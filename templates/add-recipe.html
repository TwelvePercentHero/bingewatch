{% extends "base.html" %}

{% block content %}

<section class="container-fluid">

<h1>Add a Recipe</h1>

<form action="{{ url_for('insert_recipe') }}" id="add-recipe" enctype=multipart/form-data method="POST">
    <div class="form-row">
        <label>Recipe Name</label>
        <input id="recipe_name" name="recipe_name" class="form-control" type="text" placeholder="Recipe Name" required>
    </div>

    <div class="form-row">
        <select id="recipe_from" name="recipe_from" class="form-control" required>
            <option value="" disabled selected>Recipe From</option>
            {% for media in media %}
            <option value="{{media.media_name}}">{{media.media_name}}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-row">
        <select id="cuisine" name="cuisine" class="form-control" required>
            <option value="" disabled selected>Cuisine</option>
            {% for origin in origin %}
            <option value="{{ origin.nationality }}">{{ origin.nationality }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-row">
        {% for type in recipe_types %}
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="recipe_type" value="{{ type.recipe_type }}" id="recipe_type">
            <label class="form-check-label">
                {{ type.recipe_type }}
            </label>
        </div>
        {% endfor %}
    </div>

    <div class="form-group">
        <label>Recipe Description</label>
        <textarea id="recipe_description" name="recipe_description" class="form-control" rows="5" required></textarea>
    </div>

    <div class="form-row">
        <p>Ingredients</p>
    </div>

    <div id="ingredients-list">
        <div class="form-group" id="first-ingredient">
            <input id="ingredients" name="ingredients" class="form-control" type="text" placeholder="Ingredient" required>
        </div>
    </div>
    <a class="btn btn-primary" id="add-ingredient">Add Ingredient</a>

    <div class="form-row">
        <p>Method</p>
    </div>
    
    <div id="method-steps">
        <div class="form-group" id="method-div">
            <input id="method" name="method" class="form-control" type="text" placeholder="Step" required>
        </div>
    </div>
    <a class="btn btn-primary" id="add-step">Add Step</a>

    <p>Upload Image</p>

    <div class="form-group">
        <div id="msg"></div>
        <input type="file" name="image" class="file" accept="image/*">
        <div class="input-group my-3">
        <input type="file" class="form-control" disabled placeholder="Upload File" id="file" required>
        <div class="input-group-append">
            <button type="button" class="browse btn btn-primary">Browse...</button>
        </div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary" name="action">Submit</button>

</form>

</section>


{% endblock %}